{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Numbers.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleFilterChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Numbers","personsShown","map","person","className","name","number","onClick","handleClick","id","baseUrl","axios","get","newObject","post","put","then","response","data","delete","Notification","message","includes","App","useState","persons","setPersons","setPersonsShown","setNewName","setNewNumber","setFilter","notification","setNotification","useEffect","personService","console","log","event","preventDefault","setTimeout","some","i","length","replaceNumber","concat","window","confirm","returnedPerson","catch","error","target","toLowerCase","p","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2b6a68a4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n    <form>\r\n        <div>\r\n          filter shown with: <input\r\n          value={props.filter}\r\n          onChange={props.handleFilterChange()}\r\n        />\r\n        </div>\r\n    </form>\r\n    )\r\n  }\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n    <form onSubmit={props.addPerson()}>\r\n        <div>\r\n          name: <input\r\n          value={props.newName}\r\n          onChange={props.handleNameChange()}\r\n        />\r\n        </div>\r\n        <div>\r\n          number: <input\r\n          value={props.newNumber}\r\n          onChange={props.handleNumberChange()}\r\n        />\r\n        </div>\r\n        <div><button type=\"submit\">add</button></div>\r\n    </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Numbers = (props) => {\r\n    return (\r\n    <ul>\r\n        {props.personsShown.map(person =>\r\n          <li className='personList' key={person.name}>{person.name}{\" \"}{person.number}\r\n            <button type=\"submit\" onClick={() => props.handleClick(person.id, person.name)}>delete</button>\r\n          </li>\r\n        )}\r\n    </ul>\r\n    )\r\n  }\r\n\r\nexport default Numbers","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  deletePerson: deletePerson,\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    } else if (message.includes(\"Error\")) {\r\n        return (\r\n            <div className=\"error\">\r\n              {message}\r\n            </div>\r\n          )\r\n    }\r\n  \r\n    return (\r\n      <div className=\"notifi\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Numbers from './components/Numbers'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ personsShown, setPersonsShown ] = useState(persons)\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [notification, setNotification] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setPersons(response.data)\n        setPersonsShown(response.data)\n      })\n  }, [])\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    \n    if (newName === \"\" || newNumber === \"\") {\n      console.log(\"name/number cannot be empty\")\n      setNotification(\n        `Error: name/number cannot be empty`\n      )\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n      return\n    } else if(persons.some(person => person.name === newName)) {\n      var id\n      for (var i = 0; i < persons.length; i++) {\n        if (persons[i].name === newName) {\n          id = persons[i].id\n        }\n      }\n      replaceNumber(id, newName)\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personService\n      .create(personObject)\n      .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setFilter('')\n          setPersonsShown(persons.concat(response.data))\n      })\n      setNotification(\n        `'${newName}' Added`\n      )\n      setTimeout(() => {\n        setNotification(null)\n      }, 5000)\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(\"Do you really want to delete '\" + name + \"' ?\")) {\n      personService\n      .deletePerson(id)\n      .then(response => {\n        var p = persons.filter(person => person.id !== id)\n        setPersons(p)\n        setPersonsShown(p)\n        setNewName('')\n        setNewNumber('')\n        setFilter('')\n      })\n    }\n  }\n\n  const replaceNumber = (id, name) => {\n    if (window.confirm(`${name} is already added to phonebook, replace the old number with a new one?`)) {\n      const personObject = {\n        name: name,\n        number: newNumber,\n      }\n\n      personService\n      .update(id, personObject)\n        .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setPersonsShown(persons.map(person => person.id !== id ? person : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setFilter('')\n      })\n      .catch(error => {\n        setNotification(\n          `Error, '${error.response.data}'`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n        setFilter('')\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    event.preventDefault()\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange = (event) => {\n    event.preventDefault()\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n\n  const handleFilterChange = (event) => {\n    event.preventDefault()\n    console.log(event.target.value)\n    setFilter(event.target.value)\n\n    setPersonsShown(persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())))\n  \n\n    console.log(personsShown)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter handleFilterChange={() => handleFilterChange} filter={filter}/>\n      <h2>add a new</h2>\n      <PersonForm handleNameChange={() => handleNameChange} newName={newName} addPerson={() => addPerson} newNumber={newNumber} handleNumberChange={() => handleNumberChange}/>\n      <h2>Numbers</h2>\n      <Numbers personsShown={personsShown} handleClick={(id, name) => deletePerson(id, name)}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}