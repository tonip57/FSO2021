describe('Blog app', function() {  beforeEach(function() {    cy.request('POST', 'http://localhost:3003/api/testing/reset')    const user = {      name: '123',      username: '123',      password: '123'    }    cy.request('POST', 'http://localhost:3003/api/users/', user)    cy.visit('http://localhost:3000')  })  it('Login form is shown', function() {    cy.contains('Log in to application')  })    describe('Login',function() {    it('succeeds with correct credentials', function() {      cy.get('#username').type('123')      cy.get('#password').type('123')      cy.get('#login-button').click()      cy.contains('123 logged in')    })    it('fails with wrong credentials', function() {      cy.get('#username').type('123')      cy.get('#password').type('124')      cy.get('#login-button').click()      cy.get('html').should('not.contain', '123 logged in')            cy.get('.error')        .should('contain', 'Error, wrong username or password')        .and('have.css', 'color', 'rgb(206, 41, 0)')    })  })    describe('When logged in', function() {    beforeEach(function() {      cy.login({ username: '123', password: '123' })    })        it('A blog can be created', function() {      cy.get('#open-blogform-button').click()      cy.get('#title-input').type('blogtitle')      cy.get('#author-input').type('blogauthor')      cy.get('#url-input').type('blogurl')      cy.get('#submit-button').click()      cy.contains('blogtitle')      cy.get('#view-button').click()      cy.get('#like-button').click()      cy.get('#likes').should('contain', '1')    })        it('A blog can be liked', function() {      cy.get('#open-blogform-button').click()      cy.get('#title-input').type('blogtitle')      cy.get('#author-input').type('blogauthor')      cy.get('#url-input').type('blogurl')      cy.get('#submit-button').click()      cy.contains('blogtitle')      cy.get('#view-button').click()      cy.get('#like-button').click()      cy.get('#likes').should('contain', '1')    })        it('A blog can be removed', function() {      cy.get('#open-blogform-button').click()      cy.get('#title-input').type('blogtitle')      cy.get('#author-input').type('blogauthor')      cy.get('#url-input').type('blogurl')      cy.get('#submit-button').click()      cy.contains('blogtitle')      cy.get('#view-button').click()      cy.get('#remove-blog').click()      cy.get('#blogtitle').should('not.exist')    })        it('blogs are in correct order (likes)', function() {      cy.createBlog({        title: 'title1',        author: 'author1',        url: 'url1',        likes: 22,        user: {          name: '123',          id: '6172a25067971349088d4683',        },      })      cy.createBlog({        title: 'title2',        author: 'author2',        url: 'url2',        likes: 21,        user: {          name: '123',          id: '6172a25067971349088d4683',        },      })      cy.createBlog({        title: 'title3',        author: 'author3',        url: 'url3',        likes: 18,        user: {          name: '123',          id: '6172a25067971349088d4683',        },      })      cy.createBlog({        title: 'title4',        author: 'author4',        url: 'url4',        likes: 37,        user: {          name: '123',          id: '6172a25067971349088d4683',        },      })      cy.get('#view-button').click()      cy.wait(150)      cy.get('#view-button').click()      cy.wait(150)      cy.get('#view-button').click()      cy.wait(150)      cy.get('#view-button').click()      cy.wait(150)      cy.contains('21').parent().find('#like-button').as('button2')      cy.get('@button2').click()      cy.wait(150)      cy.get('@button2').click()      cy.wait(150)      cy.get('.info').eq(0).should('contain', '37')      cy.get('.info').eq(1).should('contain', '23')      cy.get('.info').eq(2).should('contain', '22')      cy.get('.info').eq(3).should('contain', '18')    })  })})